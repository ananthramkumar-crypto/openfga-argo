# Fixed values.yaml â€” includes image, grpc, and telemetry keys that templates expect.
image:
  repository: openfga/openfga
  tag: latest
  pullPolicy: IfNotPresent

replicaCount: 1

postgresql:
  enabled: true
  image:
    repository: bitnamilegacy/postgresql
  auth:
    postgresPassword: password
    database: postgres

datastore:
  engine: postgres
  uri: "postgres://postgres:password@openfga-postgresql:5432/postgres?sslmode=disable"

# gRPC settings referenced by templates
grpc:
  addr: "0.0.0.0:8080"

# telemetry block added to satisfy templates referencing .Values.telemetry.metrics.enabled
telemetry:
  metrics:
    enabled: true
    # adjust port/path if your chart or container expects different values
    port: 9090
    path: /metrics
  # optional tracing section if chart references it elsewhere; harmless to include
  tracing:
    enabled: false

authn:
  method:
  preshared:
    keys:
      - MYPreSharedToken1

service:
  type: NodePort
